{% extends "network/layout.html" %}
{% load static %}
{% block body %}
    <div class="row border-bottom p-2">
        <div class="col">
            <h2 class="d-flex justify-content-center">{{ profile.username }}</h2>
            <div class="d-flex justify-content-center my-3">
                <span>{{ profile.post_owner.count }} post</span>
                <span class="mx-5">{{ profile.followers.count }} following</span>
                <span>{{ profile.connect_people.count }} follower</span>
            </div>
            {% if not it_self %}
                <form method="post" action="{% url 'profile_view' profile.username %}">
                    {% csrf_token %}
                    <div class="d-flex justify-content-center">
                        {% if follow %}
                            <button type="submit" class="btn btn-light">Unfollow</button>
                        {% else %}
                            <button type="submit" class="btn btn-primary">follow</button>
                        {% endif %}
                    </div>
                </form>
            {% endif %}
        </div>
    </div>

    <div class="row p-2">
        <div class="col">
            {% if profile.post_owner %}
                {% for x in profile.post_owner.all|dictsortreversed:"create_date" %}
                    <div class="post border m-3 p-3">
                        <div>
                            <h5>
                                {{ profile.username }}
                            </h5>
                            <small style="float: right;">{{ x.create_date }}</small>
                        </div>
                        <p>{{ x.text }}</p>
                        <i class="bi bi-heart" title="like"></i>
                        <small>Likes {{ x.like }}</small>
                    </div>
                {% endfor %}
            {% else %}
                <h4>No post available</h4>
            {% endif %}

        </div>
    </div>
{% endblock %}

